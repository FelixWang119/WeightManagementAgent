<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç‰‡æ˜¾ç¤ºæµ‹è¯•</title>
    <style>
        :root {
            --primary-color: #3498db;
            --success-color: #2ecc71;
            --background: #ffffff;
            --text-primary: #333333;
            --text-muted: #666666;
            --border-color: #e0e0e0;
            --transition-fast: 0.2s;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--text-primary);
            margin-bottom: 20px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }
        
        /* åŸå§‹æ ·å¼ï¼ˆæœ‰é—®é¢˜ï¼‰ */
        .original-style .image-preview {
            position: relative;
            width: 100%;
            max-height: 400px;
            overflow: hidden;
        }
        
        .original-style .image-preview img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* ä¿®å¤åçš„æ ·å¼ */
        .fixed-style .image-preview {
            position: relative;
            width: 100%;
            height: 400px;
            max-height: 500px;
            overflow: hidden;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fixed-style .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }
        
        /* æµ‹è¯•å›¾ç‰‡å®¹å™¨ */
        .test-image {
            width: 100%;
            margin-top: 10px;
            border: 2px dashed #ddd;
        }
        
        .caption {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 10px;
            font-style: italic;
        }
        
        .status {
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
        }
        
        .status.bad {
            background: #ffeaea;
            color: #c0392b;
        }
        
        .status.good {
            background: #eaffea;
            color: #27ae60;
        }
        
        .explanation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .explanation h4 {
            margin-top: 0;
            color: var(--text-primary);
        }
        
        .code {
            font-family: 'Courier New', monospace;
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ“¸ å›¾ç‰‡æ˜¾ç¤ºä¼˜åŒ–æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>é—®é¢˜ï¼šåŸå§‹æ ·å¼ï¼ˆå›¾ç‰‡è¢«è£å‰ªï¼‰</h2>
            <div class="original-style">
                <div class="image-preview">
                    <img src="https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" 
                         alt="æµ‹è¯•å›¾ç‰‡ - å¥åº·é¤é£Ÿ">
                </div>
            </div>
            <div class="caption">ç¤ºä¾‹ï¼šå¥åº·é¤é£Ÿå›¾ç‰‡ï¼ˆå¯èƒ½è¢«è£å‰ªï¼‰</div>
            <div class="status bad">âŒ é—®é¢˜ï¼šå›¾ç‰‡è¶…å‡ºå®¹å™¨è¢«è£å‰ª</div>
            
            <div class="explanation">
                <h4>é—®é¢˜åˆ†æï¼š</h4>
                <p>åŸå§‹CSSè®¾ç½®ï¼š</p>
                <div class="code">
.image-preview {
    max-height: 400px;      /* é™åˆ¶é«˜åº¦ */
    overflow: hidden;       /* éšè—è¶…å‡ºéƒ¨åˆ† */
}

.image-preview img {
    width: 100%;           /* å®½åº¦100% */
    height: auto;          /* é«˜åº¦è‡ªåŠ¨ï¼ˆä¿æŒæ¯”ä¾‹ï¼‰ */
}
                </div>
                <p>é—®é¢˜ï¼šå½“å›¾ç‰‡é«˜åº¦å¤§äº400pxæ—¶ï¼Œåº•éƒ¨ä¼šè¢«è£å‰ªæ‰ã€‚</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>è§£å†³æ–¹æ¡ˆï¼šä¿®å¤åçš„æ ·å¼</h2>
            <div class="fixed-style">
                <div class="image-preview">
                    <img src="https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" 
                         alt="æµ‹è¯•å›¾ç‰‡ - å¥åº·é¤é£Ÿ">
                </div>
            </div>
            <div class="caption">åŒä¸€å¼ å›¾ç‰‡ï¼Œç°åœ¨å®Œæ•´æ˜¾ç¤º</div>
            <div class="status good">âœ… ä¿®å¤ï¼šå›¾ç‰‡å®Œæ•´æ˜¾ç¤ºï¼Œè‡ªåŠ¨ç¼©æ”¾é€‚åº”å®¹å™¨</div>
            
            <div class="explanation">
                <h4>è§£å†³æ–¹æ¡ˆï¼š</h4>
                <p>ä¿®å¤åçš„CSSï¼š</p>
                <div class="code">
.image-preview {
    height: 400px;          /* å›ºå®šé«˜åº¦ */
    max-height: 500px;      /* æœ€å¤§é«˜åº¦é™åˆ¶ */
    display: flex;          /* ä½¿ç”¨flexå¸ƒå±€ */
    align-items: center;    /* å‚ç›´å±…ä¸­ */
    justify-content: center;/* æ°´å¹³å±…ä¸­ */
    background: #f8f9fa;    /* èƒŒæ™¯è‰² */
}

.image-preview img {
    width: 100%;           /* å®½åº¦100% */
    height: 100%;          /* é«˜åº¦100% */
    object-fit: contain;   /* å…³é”®ï¼šä¿æŒæ¯”ä¾‹ï¼Œå®Œæ•´æ˜¾ç¤º */
}
                </div>
                <p><strong>object-fit: contain</strong> çš„ä½œç”¨ï¼š</p>
                <ul>
                    <li>ä¿æŒå›¾ç‰‡åŸå§‹å®½é«˜æ¯”ä¾‹</li>
                    <li>ç¼©æ”¾å›¾ç‰‡ä»¥é€‚åº”å®¹å™¨</li>
                    <li>ç¡®ä¿æ•´ä¸ªå›¾ç‰‡éƒ½å¯è§</li>
                    <li>å¯èƒ½ä¼šæœ‰ç•™ç™½ï¼Œä½†ä¸ä¼šè£å‰ª</li>
                </ul>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ä¸åŒæ¯”ä¾‹å›¾ç‰‡æµ‹è¯•</h2>
            
            <h3>ç«–ç‰ˆå›¾ç‰‡ï¼ˆé«˜å¤§äºå®½ï¼‰</h3>
            <div class="fixed-style">
                <div class="image-preview">
                    <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" 
                         alt="ç«–ç‰ˆå›¾ç‰‡">
                </div>
            </div>
            <div class="caption">ç«–ç‰ˆå›¾ç‰‡ï¼šä¸¤ä¾§æœ‰ç•™ç™½ï¼Œä½†å®Œæ•´æ˜¾ç¤º</div>
            
            <h3>æ¨ªç‰ˆå›¾ç‰‡ï¼ˆå®½å¤§äºé«˜ï¼‰</h3>
            <div class="fixed-style">
                <div class="image-preview">
                    <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60" 
                         alt="æ¨ªç‰ˆå›¾ç‰‡">
                </div>
            </div>
            <div class="caption">æ¨ªç‰ˆå›¾ç‰‡ï¼šä¸Šä¸‹æœ‰ç•™ç™½ï¼Œä½†å®Œæ•´æ˜¾ç¤º</div>
            
            <div class="status good">âœ… æ‰€æœ‰æ¯”ä¾‹å›¾ç‰‡éƒ½èƒ½å®Œæ•´æ˜¾ç¤º</div>
        </div>
        
        <div class="explanation">
            <h4>æ€»ç»“ï¼š</h4>
            <p>ä½¿ç”¨ <code>object-fit: contain</code> ç»“åˆå›ºå®šé«˜åº¦çš„å®¹å™¨ï¼Œå¯ä»¥ç¡®ä¿ï¼š</p>
            <ol>
                <li>âœ… å›¾ç‰‡ä¸ä¼šè¢«è£å‰ª</li>
                <li>âœ… ä¿æŒåŸå§‹æ¯”ä¾‹</li>
                <li>âœ… é€‚åº”ä¸åŒå°ºå¯¸çš„å›¾ç‰‡</li>
                <li>âœ… æä¾›è‰¯å¥½çš„è§†è§‰ä½“éªŒ</li>
                <li>âœ… åœ¨å®¹å™¨å†…å±…ä¸­æ˜¾ç¤º</li>
            </ol>
            <p>è¿™æ¯”åŸæ¥çš„ <code>height: auto</code> + <code>overflow: hidden</code> æ–¹æ¡ˆè¦å¥½å¾—å¤šã€‚</p>
        </div>
    </div>
    
    <script>
        // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.fixed-style img');
            images.forEach(img => {
                img.addEventListener('load', function() {
                    const container = this.closest('.image-preview');
                    const naturalWidth = this.naturalWidth;
                    const naturalHeight = this.naturalHeight;
                    const aspectRatio = (naturalHeight / naturalWidth * 100).toFixed(1);
                    
                    // åœ¨æ§åˆ¶å°æ˜¾ç¤ºå›¾ç‰‡ä¿¡æ¯
                    console.log(`å›¾ç‰‡åŠ è½½: ${this.alt}`);
                    console.log(`åŸå§‹å°ºå¯¸: ${naturalWidth} Ã— ${naturalHeight}`);
                    console.log(`å®½é«˜æ¯”: ${aspectRatio}%`);
                    console.log(`object-fit: ${getComputedStyle(this).objectFit}`);
                });
            });
        });
    </script>
</body>
</html>